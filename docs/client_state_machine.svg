<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: finite_state_machine Pages: 1 -->
<svg width="576pt" height="114pt"
 viewBox="0.00 0.00 576.00 114.12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(.4557 .4557) rotate(0) translate(4 246.4458)">
<title>finite_state_machine</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-246.4458 1260.0604,-246.4458 1260.0604,4 -4,4"/>
<!-- Initial -->
<g id="node1" class="node">
<title>Initial</title>
<ellipse fill="#000000" stroke="#000000" cx="1.8" cy="-128.4458" rx="1.8" ry="1.8"/>
</g>
<!-- FileHeader -->
<g id="node4" class="node">
<title>FileHeader</title>
<ellipse fill="none" stroke="#000000" cx="90.6456" cy="-128.4458" rx="50.0912" ry="50.0912"/>
<text text-anchor="middle" x="90.6456" y="-124.7458" font-family="Times,serif" font-size="14.00" fill="#000000">FileHeader</text>
</g>
<!-- Initial&#45;&gt;FileHeader -->
<g id="edge1" class="edge">
<title>Initial&#45;&gt;FileHeader</title>
<path fill="none" stroke="#000000" d="M3.6557,-128.4458C7.7455,-128.4458 18.1521,-128.4458 30.4054,-128.4458"/>
<polygon fill="#000000" stroke="#000000" points="30.5428,-131.9459 40.5428,-128.4458 30.5428,-124.9459 30.5428,-131.9459"/>
</g>
<!-- FinalSuccess -->
<g id="node2" class="node">
<title>FinalSuccess</title>
<ellipse fill="#000000" stroke="#000000" cx="1254.2604" cy="-47.4458" rx="1.8" ry="1.8"/>
</g>
<!-- FinalFailure -->
<g id="node3" class="node">
<title>FinalFailure</title>
<ellipse fill="#000000" stroke="#000000" cx="1254.2604" cy="-174.4458" rx="1.8" ry="1.8"/>
</g>
<!-- FileHeader&#45;&gt;FileHeader -->
<g id="edge2" class="edge">
<title>FileHeader&#45;&gt;FileHeader</title>
<path fill="none" stroke="#000000" d="M78.1765,-177.0719C79.2509,-188.2674 83.4073,-196.4913 90.6456,-196.4913 95.5088,-196.4913 98.9808,-192.7789 101.0615,-186.9471"/>
<polygon fill="#000000" stroke="#000000" points="104.5058,-187.575 103.1146,-177.0719 97.6523,-186.15 104.5058,-187.575"/>
<text text-anchor="middle" x="90.6456" y="-200.2913" font-family="Times,serif" font-size="14.00" fill="#000000">remaining_tries &gt; 0</text>
</g>
<!-- Abort -->
<g id="node5" class="node">
<title>Abort</title>
<ellipse fill="none" stroke="#000000" cx="1169.9645" cy="-174.4458" rx="31.3957" ry="31.3957"/>
<text text-anchor="middle" x="1169.9645" y="-170.7458" font-family="Times,serif" font-size="14.00" fill="#000000">Abort</text>
</g>
<!-- FileHeader&#45;&gt;Abort -->
<g id="edge3" class="edge">
<title>FileHeader&#45;&gt;Abort</title>
<path fill="none" stroke="#000000" d="M134.1214,-153.3227C196.9455,-186.866 317.7305,-242.4458 428.3364,-242.4458 428.3364,-242.4458 428.3364,-242.4458 924.0227,-242.4458 1000.0742,-242.4458 1084.726,-211.8662 1132.243,-191.7201"/>
<polygon fill="#000000" stroke="#000000" points="1133.7243,-194.893 1141.5202,-187.7183 1130.9517,-188.4655 1133.7243,-194.893"/>
</g>
<!-- DataHeader -->
<g id="node6" class="node">
<title>DataHeader</title>
<ellipse fill="none" stroke="#000000" cx="428.3364" cy="-128.4458" rx="52.7911" ry="52.7911"/>
<text text-anchor="middle" x="428.3364" y="-124.7458" font-family="Times,serif" font-size="14.00" fill="#000000">DataHeader</text>
</g>
<!-- FileHeader&#45;&gt;DataHeader -->
<g id="edge4" class="edge">
<title>FileHeader&#45;&gt;DataHeader</title>
<path fill="none" stroke="#000000" d="M140.8367,-128.4458C200.6561,-128.4458 300.6537,-128.4458 365.5414,-128.4458"/>
<polygon fill="#000000" stroke="#000000" points="365.6426,-131.9459 375.6425,-128.4458 365.6425,-124.9459 365.6426,-131.9459"/>
<text text-anchor="middle" x="258.1911" y="-132.2458" font-family="Times,serif" font-size="14.00" fill="#000000">remaining_tries == 0 &amp;&amp; nread &gt; 0</text>
</g>
<!-- FileFooter -->
<g id="node7" class="node">
<title>FileFooter</title>
<ellipse fill="none" stroke="#000000" cx="924.0227" cy="-47.4458" rx="47.3916" ry="47.3916"/>
<text text-anchor="middle" x="924.0227" y="-43.7458" font-family="Times,serif" font-size="14.00" fill="#000000">FileFooter</text>
</g>
<!-- FileHeader&#45;&gt;FileFooter -->
<g id="edge5" class="edge">
<title>FileHeader&#45;&gt;FileFooter</title>
<path fill="none" stroke="#000000" d="M139.1112,-115.1138C195.4638,-100.266 291.5177,-76.9717 375.6911,-66.4458 553.4723,-44.2141 766.0206,-44.3944 866.2725,-46.0544"/>
<polygon fill="#000000" stroke="#000000" points="866.4271,-49.5576 876.4875,-46.2352 866.5511,-42.5587 866.4271,-49.5576"/>
<text text-anchor="middle" x="602.9818" y="-58.2458" font-family="Times,serif" font-size="14.00" fill="#000000">remaining_tries == 0 &amp;&amp; nread == 0</text>
</g>
<!-- Abort&#45;&gt;FinalFailure -->
<g id="edge16" class="edge">
<title>Abort&#45;&gt;FinalFailure</title>
<path fill="none" stroke="#000000" d="M1201.3532,-174.4458C1215.5716,-174.4458 1231.5407,-174.4458 1242.179,-174.4458"/>
<polygon fill="#000000" stroke="#000000" points="1242.2702,-177.9459 1252.2701,-174.4458 1242.2701,-170.9459 1242.2702,-177.9459"/>
</g>
<!-- DataHeader&#45;&gt;Abort -->
<g id="edge8" class="edge">
<title>DataHeader&#45;&gt;Abort</title>
<path fill="none" stroke="#000000" d="M479.48,-142.3129C486.0149,-143.838 492.6361,-145.2635 498.9818,-146.4458 713.6625,-186.4424 771.0953,-174.6202 989.4685,-175.4458 1041.4681,-175.6424 1054.4701,-175.8552 1106.4685,-175.4458 1113.5872,-175.3897 1121.1543,-175.2983 1128.4908,-175.193"/>
<polygon fill="#000000" stroke="#000000" points="1128.6934,-178.6904 1138.6384,-175.037 1128.5857,-171.6912 1128.6934,-178.6904"/>
</g>
<!-- DataHeader&#45;&gt;DataHeader -->
<g id="edge6" class="edge">
<title>DataHeader&#45;&gt;DataHeader</title>
<path fill="none" stroke="#000000" d="M396.5315,-170.5109C395.4887,-186.1872 406.0904,-199.0911 428.3364,-199.0911 445.5424,-199.0911 455.7826,-191.3719 459.057,-180.6212"/>
<polygon fill="#000000" stroke="#000000" points="462.5549,-180.8272 460.1414,-170.5109 455.5948,-180.0806 462.5549,-180.8272"/>
<text text-anchor="middle" x="428.3364" y="-202.8911" font-family="Times,serif" font-size="14.00" fill="#000000">remaining_tries &gt; 0</text>
</g>
<!-- Data -->
<g id="node8" class="node">
<title>Data</title>
<ellipse fill="none" stroke="#000000" cx="752.2794" cy="-104.4458" rx="27.0966" ry="27.0966"/>
<text text-anchor="middle" x="752.2794" y="-100.7458" font-family="Times,serif" font-size="14.00" fill="#000000">Data</text>
</g>
<!-- DataHeader&#45;&gt;Data -->
<g id="edge7" class="edge">
<title>DataHeader&#45;&gt;Data</title>
<path fill="none" stroke="#000000" d="M481.1771,-127.8365C537.3697,-126.6672 628.7507,-123.2724 706.9818,-113.4458 709.8159,-113.0898 712.7384,-112.6586 715.6699,-112.18"/>
<polygon fill="#000000" stroke="#000000" points="716.3285,-115.6178 725.5555,-110.4107 715.0953,-108.7273 716.3285,-115.6178"/>
<text text-anchor="middle" x="602.9818" y="-131.2458" font-family="Times,serif" font-size="14.00" fill="#000000">remaining_tries == 0</text>
</g>
<!-- FileFooter&#45;&gt;Abort -->
<g id="edge14" class="edge">
<title>FileFooter&#45;&gt;Abort</title>
<path fill="none" stroke="#000000" d="M966.4397,-69.2461C1003.4306,-88.2705 1058.5254,-116.6368 1106.4685,-141.4458 1115.149,-145.9376 1124.4908,-150.7852 1133.2677,-155.3457"/>
<polygon fill="#000000" stroke="#000000" points="1131.6712,-158.4604 1142.1583,-159.9673 1134.8999,-152.2494 1131.6712,-158.4604"/>
</g>
<!-- FileFooter&#45;&gt;FileFooter -->
<g id="edge13" class="edge">
<title>FileFooter&#45;&gt;FileFooter</title>
<path fill="none" stroke="#000000" d="M906.5279,-91.799C907.4509,-103.7781 913.2825,-112.8916 924.0227,-112.8916 931.4066,-112.8916 936.4705,-108.5841 939.2142,-101.9992"/>
<polygon fill="#000000" stroke="#000000" points="942.7288,-102.3243 941.5176,-91.799 935.9008,-100.7824 942.7288,-102.3243"/>
<text text-anchor="middle" x="924.0227" y="-116.6916" font-family="Times,serif" font-size="14.00" fill="#000000">remaining_tries &gt; 0</text>
</g>
<!-- Complete -->
<g id="node9" class="node">
<title>Complete</title>
<ellipse fill="none" stroke="#000000" cx="1169.9645" cy="-47.4458" rx="45.4919" ry="45.4919"/>
<text text-anchor="middle" x="1169.9645" y="-43.7458" font-family="Times,serif" font-size="14.00" fill="#000000">Complete</text>
</g>
<!-- FileFooter&#45;&gt;Complete -->
<g id="edge15" class="edge">
<title>FileFooter&#45;&gt;Complete</title>
<path fill="none" stroke="#000000" d="M971.7344,-47.4458C1012.6002,-47.4458 1071.4835,-47.4458 1114.4529,-47.4458"/>
<polygon fill="#000000" stroke="#000000" points="1114.463,-50.9459 1124.463,-47.4458 1114.4629,-43.9459 1114.463,-50.9459"/>
<text text-anchor="middle" x="1047.9685" y="-51.2458" font-family="Times,serif" font-size="14.00" fill="#000000">remaining_tries == 0</text>
</g>
<!-- Data&#45;&gt;Abort -->
<g id="edge12" class="edge">
<title>Data&#45;&gt;Abort</title>
<path fill="none" stroke="#000000" d="M778.7358,-112.2682C803.7537,-119.4236 842.4434,-129.8674 876.5769,-136.4458 965.5976,-153.6022 1071.3397,-165.1656 1128.422,-170.6924"/>
<polygon fill="#000000" stroke="#000000" points="1128.212,-174.1882 1138.4993,-171.6541 1128.877,-167.2198 1128.212,-174.1882"/>
</g>
<!-- Data&#45;&gt;DataHeader -->
<g id="edge10" class="edge">
<title>Data&#45;&gt;DataHeader</title>
<path fill="none" stroke="#000000" d="M725.6126,-97.5508C719.5305,-96.2604 713.0664,-95.1094 706.9818,-94.4458 615.0823,-84.4225 589.1109,-73.8858 498.9818,-94.4458 493.968,-95.5895 488.8955,-97.1362 483.8907,-98.942"/>
<polygon fill="#000000" stroke="#000000" points="482.3986,-95.7681 474.3829,-102.6961 484.9695,-102.2789 482.3986,-95.7681"/>
<text text-anchor="middle" x="602.9818" y="-98.2458" font-family="Times,serif" font-size="14.00" fill="#000000">nread &gt; 0</text>
</g>
<!-- Data&#45;&gt;FileFooter -->
<g id="edge11" class="edge">
<title>Data&#45;&gt;FileFooter</title>
<path fill="none" stroke="#000000" d="M778.3635,-95.7887C802.4107,-87.8077 838.8762,-75.7051 869.3045,-65.6063"/>
<polygon fill="#000000" stroke="#000000" points="870.5598,-68.8774 878.9483,-62.4056 868.3548,-62.2338 870.5598,-68.8774"/>
<text text-anchor="middle" x="828.0769" y="-93.2458" font-family="Times,serif" font-size="14.00" fill="#000000">nread == 0</text>
</g>
<!-- Data&#45;&gt;Data -->
<g id="edge9" class="edge">
<title>Data&#45;&gt;Data</title>
<path fill="none" stroke="#000000" d="M738.7431,-128.2165C737.072,-139.6502 741.584,-149.7434 752.2794,-149.7434 759.6324,-149.7434 764.0629,-144.9728 765.5708,-138.2758"/>
<polygon fill="#000000" stroke="#000000" points="769.0712,-138.2988 765.8156,-128.2165 762.0733,-138.1284 769.0712,-138.2988"/>
<text text-anchor="middle" x="752.2794" y="-153.5434" font-family="Times,serif" font-size="14.00" fill="#000000">last_packet &lt; packets.len()</text>
</g>
<!-- Complete&#45;&gt;FinalSuccess -->
<g id="edge17" class="edge">
<title>Complete&#45;&gt;FinalSuccess</title>
<path fill="none" stroke="#000000" d="M1215.5665,-47.4458C1225.4004,-47.4458 1234.982,-47.4458 1242.1503,-47.4458"/>
<polygon fill="#000000" stroke="#000000" points="1242.3916,-50.9459 1252.3916,-47.4458 1242.3916,-43.9459 1242.3916,-50.9459"/>
</g>
</g>
</svg>
